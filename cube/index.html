<a href="https://photonrain.github.io/"  title="回到主页">首页</a>
<br>
简易纹章附加魔方属性计算器，试用版。如果遇到BUG，请点击下方链接私信我，感谢您的支持。
<br>
如果点击计算后未出结果，请耐心等待。在计算前，您也可以通过F12打开控制台，点击Console，查看当前计算状态(当前试验次数-该次花费魔方数量)
<br>
<form>
</form>
<a href="https://space.bilibili.com/44579584?spm_id_from=333.1007.0.0" target="_blank" title="转到B站主页">by紫电NS</a>
<form>
</form>
<a href="https://wiki.biligame.com/maplestory/%E9%A6%96%E9%A1%B5" target="_blank" title="转到Bwiki主页">特别鸣谢Bwiki数据支持</a>
<form>
暂时只有纹章附加<br>


    <div>
    <b>第一条属性</b><br>

        <label><input name="First" type="checkbox" value="0" />血量10% </label> 
        <label><input name="First" type="checkbox" value="1" />魔量10% </label> 
        <label style="color: red;"><input name="First" type="checkbox" value="2" />攻击力12% </label> 
        <label style="color: red;"><input name="First" type="checkbox" value="3" />魔力12%</label> 
        <label><input name="First" type="checkbox" value="4" />暴击率12%  </label> 
        <br>
        <label><input name="First" type="checkbox" value="5" />力量12% </label> 
        <label><input name="First" type="checkbox" value="6" />敏捷12% </label> 	
        <label><input name="First" type="checkbox" value="7" />智力12% </label> 
        <label><input name="First" type="checkbox" value="8" />运气12% </label> 
        <label style="color: red;"><input name="First" type="checkbox" value="9" />伤害12% </label> 
        <label><input name="First" type="checkbox" value="10" />所有属性9% </label> 
        <br>
        <label><input name="First" type="checkbox" value="11" />10级力量+2</label> 
        <label><input name="First" type="checkbox" value="12" /> 10级敏捷+2</label> 
        <label><input name="First" type="checkbox" value="13" /> 10级智力+2</label> 
        <label><input name="First" type="checkbox" value="14" /> 10级运气+2</label> 
        <label style="color: red;"><input name="First" type="checkbox" value="15" /> 10级攻击力+1</label> 
        <label style="color: red;"><input name="First" type="checkbox" value="16" /> 10级魔力+1</label> 
        <br>
        <label><input name="First" type="checkbox" value="17" /> 无视5%</label> 
        <label><input name="First" type="checkbox" value="99" /> 任意</label>   
 
    </div>
    <div>
    <b>第二条属性</b>
         
        <label><input name="Second" type="checkbox" value="0" />血量7% </label> 
        <label><input name="Second" type="checkbox" value="1" />魔量7% </label> 
        <label style="color: red;"><input name="Second" type="checkbox" value="2" />攻击力9% </label> 
        <label style="color: red;"><input name="Second" type="checkbox" value="3" />魔力9%</label> 
        <label><input name="Second" type="checkbox" value="4" />暴击率9%  </label> 
        <br>
        <label><input name="Second" type="checkbox" value="5" />力量9% </label> 
        <label><input name="Second" type="checkbox" value="6" />敏捷9% </label> 	
        <label><input name="Second" type="checkbox" value="7" />智力9% </label> 
        <label><input name="Second" type="checkbox" value="8" />运气9% </label> 
        <label style="color: red;"><input name="Second" type="checkbox" value="9" />伤害9% </label> 
        <label><input name="Second" type="checkbox" value="10" />所有属性6% </label> 
        <br>
        <label><input name="Second" type="checkbox" value="11" />10级力量+1</label> 
        <label><input name="Second" type="checkbox" value="12" /> 10级敏捷+1</label> 
        <label><input name="Second" type="checkbox" value="13" /> 10级智力+1</label> 
        <label><input name="Second" type="checkbox" value="14" /> 10级运气+1</label> 
        <label><input name="Second" type="checkbox" value="15" /> 15%回复95HP</label> 
        <label><input name="Second" type="checkbox" value="16" /> 15%回复95MP</label> 
        <label><input name="Second" type="checkbox" value="17" /> 无视4%</label>  
        <br>
        <label><input name="Second" type="checkbox" value="18" />血量10% </label> 
        <label><input name="Second" type="checkbox" value="19" />魔量10% </label> 
        <label style="color: red;"><input name="Second" type="checkbox" value="20" />攻击力12% </label> 
        <label style="color: red;"><input name="Second" type="checkbox" value="21" />魔力12%</label> 
        <label><input name="Second" type="checkbox" value="22" />暴击率12%  </label> 
        <br>
        <label><input name="Second" type="checkbox" value="23" />力量12% </label> 
        <label><input name="Second" type="checkbox" value="24" />敏捷12% </label> 	
        <label><input name="Second" type="checkbox" value="25" />智力12% </label> 
        <label><input name="Second" type="checkbox" value="26" />运气12% </label> 
        <label style="color: red;"><input name="Second" type="checkbox" value="27" />伤害12% </label> 
        <label><input name="Second" type="checkbox" value="28" />所有属性9% </label> 
        <br>
        <label><input name="Second" type="checkbox" value="29" />10级力量+2</label> 
        <label><input name="Second" type="checkbox" value="30" /> 10级敏捷+2</label> 
        <label><input name="Second" type="checkbox" value="31" /> 10级智力+2</label> 
        <label><input name="Second" type="checkbox" value="32" /> 10级运气+2</label> 
        <label style="color: red;"><input name="Second" type="checkbox" value="33" /> 10级攻击力+1</label> 
        <label style="color: red;"><input name="Second" type="checkbox" value="34" /> 10级魔力+1</label> 
        <br>
        <label><input name="Second" type="checkbox" value="35" /> 无视5%</label> 
        <label><input name="Second" type="checkbox" value="99" /> 任意</label>  



<!-- <select id="second">
        	<option value="0"> 血量7% </option>
        	<option value="1"> 魔量7% </option>
        	<option value="2"> 攻击力9%</option>
        	<option value="3"> 魔力9%</option>
        	<option value="4"> 暴击率9% </option>
        	<option value="5"> 力量9% </option>
        	<option value="6"> 敏捷9%  </option>
        	<option value="7"> 智力9%  </option>
        	<option value="8"> 运气9%  </option>
        	<option value="9"> 伤害9% </option>
			<option value="10"> 所有属性6% </option>
        	<option value="11"> 10级力量+1 </option>
        	<option value="12"> 10级敏捷+1 </option>
        	<option value="13"> 10级智力+1 </option>
        	<option value="14"> 10级运气+1 </option>
        	<option value="15">15%回复95HP</option>
        	<option value="16"> 15%回复95MP </option>
        	<option value="17"> 无视4% </option>
        	<option value="18"> 血量10% </option>
        	<option value="19"> 魔量10% </option>
        	<option value="20"> 攻击力12%</option>
        	<option value="21"> 魔力12%</option>
        	<option value="22"> 暴击率12% </option>
        	<option value="23"> 力量12% </option>
        	<option value="24"> 敏捷12%  </option>
        	<option value="25"> 智力12%  </option>
        	<option value="26"> 运气12%  </option>
        	<option value="27"> 伤害12% </option>
			<option value="28"> 所有属性9% </option>
        	<option value="29"> 10级力量+2 </option>
        	<option value="30"> 10级敏捷+2 </option>
        	<option value="31"> 10级智力+2 </option>
        	<option value="32"> 10级运气+2 </option>
        	<option value="33">10级攻击力+1</option>
        	<option value="34"> 10级魔力+1 </option>
        	<option value="35"> 无视5% </option>
        </select>   -->
    </div>
	<div>
    <b>第三条属性</b>
        <!-- <select id="third">
        	<option value="0"> 血量7% </option>
        	<option value="1"> 魔量7% </option>
        	<option value="2"> 攻击力9%</option>
        	<option value="3"> 魔力9%</option>
        	<option value="4"> 暴击率9% </option>
        	<option value="5"> 力量9% </option>
        	<option value="6"> 敏捷9%  </option>
        	<option value="7"> 智力9%  </option>
        	<option value="8"> 运气9%  </option>
        	<option value="9"> 伤害9% </option>
			<option value="10"> 所有属性6% </option>
        	<option value="11"> 10级力量+1 </option>
        	<option value="12"> 10级敏捷+1 </option>
        	<option value="13"> 10级智力+1 </option>
        	<option value="14"> 10级运气+1 </option>
        	<option value="15">15%回复95HP</option>
        	<option value="16"> 15%回复95MP </option>
        	<option value="17"> 无视4% </option>
        	<option value="18"> 血量10% </option>
        	<option value="19"> 魔量10% </option>
        	<option value="20"> 攻击力12%</option>
        	<option value="21"> 魔力12%</option>
        	<option value="22"> 暴击率12% </option>
        	<option value="23"> 力量12% </option>
        	<option value="24"> 敏捷12%  </option>
        	<option value="25"> 智力12%  </option>
        	<option value="26"> 运气12%  </option>
        	<option value="27"> 伤害12% </option>
			<option value="28"> 所有属性9% </option>
        	<option value="29"> 10级力量+2 </option>
        	<option value="30"> 10级敏捷+2 </option>
        	<option value="31"> 10级智力+2 </option>
        	<option value="32"> 10级运气+2 </option>
        	<option value="33">10级攻击力+1</option>
        	<option value="34"> 10级魔力+1 </option>
        	<option value="35"> 无视5% </option>
        </select>  --> 

        <label><input name="Third" type="checkbox" value="0" />血量7% </label> 
        <label><input name="Third" type="checkbox" value="1" />魔量7% </label> 
        <label style="color: red;"><input name="Third" type="checkbox" value="2" />攻击力9% </label> 
        <label style="color: red;"><input name="Third" type="checkbox" value="3" />魔力9%</label> 
        <label><input name="Third" type="checkbox" value="4" />暴击率9%  </label> 
        <br>
        <label><input name="Third" type="checkbox" value="5" />力量9% </label> 
        <label><input name="Third" type="checkbox" value="6" />敏捷9% </label> 	
        <label><input name="Third" type="checkbox" value="7" />智力9% </label> 
        <label><input name="Third" type="checkbox" value="8" />运气9% </label> 
        <label style="color: red;"><input name="Third" type="checkbox" value="9" />伤害9% </label> 
        <label><input name="Third" type="checkbox" value="10" />所有属性6% </label> 
        <br>
        <label><input name="Third" type="checkbox" value="11" />10级力量+1</label> 
        <label><input name="Third" type="checkbox" value="12" /> 10级敏捷+1</label> 
        <label><input name="Third" type="checkbox" value="13" /> 10级智力+1</label> 
        <label><input name="Third" type="checkbox" value="14" /> 10级运气+1</label> 
        <label><input name="Third" type="checkbox" value="15" /> 15%回复95HP</label> 
        <label><input name="Third" type="checkbox" value="16" /> 15%回复95MP</label> 
        <label><input name="Third" type="checkbox" value="17" /> 无视4%</label>  
        <br>
        <label><input name="First" type="checkbox" value="18" />血量10% </label> 
        <label><input name="First" type="checkbox" value="19" />魔量10% </label> 
        <label style="color: red;"><input name="First" type="checkbox" value="20" />攻击力12% </label> 
        <label style="color: red;"><input name="First" type="checkbox" value="21" />魔力12%</label> 
        <label><input name="Third" type="checkbox" value="22" />暴击率12%  </label> 
        <br>
        <label><input name="Third" type="checkbox" value="23" />力量12% </label> 
        <label><input name="Third" type="checkbox" value="24" />敏捷12% </label> 	
        <label><input name="Third" type="checkbox" value="25" />智力12% </label> 
        <label><input name="Third" type="checkbox" value="26" />运气12% </label> 
        <label style="color: red;"><input name="Third" type="checkbox" value="27" />伤害12% </label> 
        <label><input name="Third" type="checkbox" value="28" />所有属性9% </label> 
        <br>
        <label><input name="Third" type="checkbox" value="29" />10级力量+2</label> 
        <label><input name="Third" type="checkbox" value="30" /> 10级敏捷+2</label> 
        <label><input name="Third" type="checkbox" value="31" /> 10级智力+2</label> 
        <label><input name="Third" type="checkbox" value="32" /> 10级运气+2</label> 
        <label style="color: red;"><input name="Third" type="checkbox" value="33" /> 10级攻击力+1</label> 
        <label style="color: red;"><input name="Third" type="checkbox" value="34" /> 10级魔力+1</label> 
        <br>
        <label><input name="Third" type="checkbox" value="35" /> 无视5%</label> 
        <label><input name="Third" type="checkbox" value="99" /> 任意</label>  


    </div>


	<div>
        <label>
            魔方价格：
            <input type="price" id="price"/>
        </label>
    </div>

<!-- <button type="button" onclick="addgroup()">添加潜能组</button> -->
<!-- <button type="button" onclick="cleangroup()">清除潜能组</button> -->
<button type="button" onclick="contxt()">统计计算</button>

<!-- <button type="button" onclick="once()">单次模拟（无需设定目标属性）</button> -->

<script type="text/javascript">
let probability1=[0,0.078947,
0.157894,
0.210526,
0.263158,
0.31579,
0.394737,
0.473684,
0.552631,
0.631578,
0.657894,
0.710526,
0.763158,
0.81579,
0.868422,
0.921054,
0.94737,
0.973686,
1.000002

]
let probability2=[0,0.071073,
0.142146,
0.189528,
0.23691,
0.284292,
0.355365,
0.426438,
0.497511,
0.568584,
0.592275,
0.639657,
0.687039,
0.734421,
0.781803,
0.829185,
0.900258,
0.971331,
0.995022,
0.995415,
0.995808,
0.99607,
0.996332,
0.996594,
0.996987,
0.99738,
0.997773,
0.998166,
0.998297,
0.998559,
0.998821,
0.999083,
0.999345,
0.999607,
0.999738,
0.999869,
1
]
     function  contxt() //定义函数
      {
      	let correct = 0;
      	let cost = 0;
      	let cubecost =0;
      	let price = document.getElementById("price");
      	let loop = 0;
      	let totalloop = 1000;
      	let mincost = 1000000;
      	let maxcost = 0;
      	let sortloop =[];
      	for(var K =0;K<totalloop;K++){
      	loop=0;
      	correct = 0;
      	while(correct!=3){
      		correct = 0;
      		let row = [];
      		row[0] = Math.random();
      		row[1] = Math.random();
      		row[2] = Math.random();

      		let rowstate = [];

      		
      		for(var j=0;j<3;j++){
      				if(j==0){//如果是第一条
      					for(var i=0;i<18;i++){//41
      					if(row[j]>probability1[i]&&row[j]<probability1[i+1]){
      						rowstate[j] = i;
      					}
      				}
      				}else{//如果是二三条
      					for(var i=0;i<36;i++){//41
      					if(row[j]>probability2[i]&&row[j]<probability2[i+1]){
      						rowstate[j] = i;
      					}
      				}
      				}
					
      			
      		}
      		let joker=0;
      		let target = [];
      		let target1 = [];
      		let target2 = [];
      		let target3 = [];
      		let One = document.getElementsByName("First");
      		let Two = document.getElementsByName("Second");
      		let Three = document.getElementsByName("Third");

      		for(k in One){
      			if(One[k].checked){
      				target1.push(parseInt(One[k].value));
      			}
      		}
      		for(k in Two){
      			if(Two[k].checked){
      				target2.push(parseInt(Two[k].value));
      			}
      		}
      		for(k in Three){
      			if(Three[k].checked){
      				target3.push(parseInt(Three[k].value));
      			}
      		}
      		target[0]=target1;
      		target[1]=target2;
      		target[2]=target3;
      		joker=0;



      		for(var j=0;j<3;j++){//2、3条潜能池
      				for(var o=0;o<target[j].length;o++){//潜能池的每个词条
      					if(target[j][o] == 99){
      						joker++;
      					}
					}
      				}				

      		

      		for(var i=0;i<3;i++){//当前出现的三条
      			if(i==0){
      				for(var o=0;o<target[0].length;o++){
      					if(rowstate[i]==target[0][o]){//正确
						correct++;
						break;
						}
      				}

      			}else{
      			for(var j=1;j<3;j++){//2、3条潜能池
      				let ending = 0;//是否完全遍历潜能池，如果遍历，那么进入下一个池子
      				for(var o=0;o<target[j].length;o++){//潜能池的每个词条
      					if(rowstate[i]==target[j][o]){//正确
						correct++;
						
						ending =1;
						}
      				}	
      				if(ending==1){
      					break;
      				}			
      			}
      			}
      		}
      		
      		

      		correct = correct + joker;
      		loop++;
      		if(correct==3){
//       			console.log(row[0]);
// 			    console.log(rowstate[0]);
//       			console.log(row[1]);
// 			    console.log(rowstate[1]);
//       			console.log(row[2]);
//       			console.log(rowstate[2]);
//       			console.log("M")
      		}

      		}
      		 console.log(K+"-"+loop);
      		sortloop[K]=loop;
      		cubecost = cubecost+ loop;
      		cost = cost + loop * parseFloat(price.value);
      		cost = toPrecision(cost,2);
      		if(mincost>=loop * parseFloat(price.value)){
      			mincost = loop * parseFloat(price.value);
      		}
      		if(maxcost<=loop * parseFloat(price.value)){
      			maxcost = loop * parseFloat(price.value);
      		}
      		}
      		sortloop.sort(function (a,b) {
      				return b-a
    		})
    		let half;
      		for(var L=0;L<parseInt(sortloop.length/2);L++){
						half = sortloop[L];
      		}

      		cubecost = cubecost/totalloop;
      		cost = cost/totalloop;
      		half = parseFloat(price.value) * half;
			alert("经过一千次测试"+"\n"+"平均使用魔方"+cubecost +"\n" +"平均花费" + cost+"\n"+"最欧的人花费"+mincost+"\n"+"运气最差的人花费"+maxcost+"\n"+"中位数花费为"+half);
      	}




      	 
       
      	
 </script>





<script type="text/javascript">
 function toPrecision(num, precision) {
      if (precision === undefined) precision = this.numPrecision
      // 这里在做乘法运算时要使用toFixed去四舍五入，防止精度丢失问题，比如1.255*100 !== 125.5
      return parseFloat(Math.round((num * Math.pow(10, precision)).toFixed(precision)) / Math.pow(10, precision))
    }

 </script>


